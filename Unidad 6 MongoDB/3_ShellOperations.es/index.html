
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="http://sitename.example.com/Unidad%206%20MongoDB/3_ShellOperations.es/">
      
      
        <link rel="prev" href="../2_MongoDB.es/">
      
      
        <link rel="next" href="../4_Queries.es/">
      
      
        
      
      
      <link rel="icon" href="../../assets/Cheste.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>3. Trabajando con MongoDB: Operaciones b√°sicas de shell - Acceso a Datos</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,700,700i%7CRed+Hat+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Open Sans";--md-code-font:"Red Hat Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="blue-grey" data-md-color-accent="deep-purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#3-trabajando-con-mongodb-operaciones-basicas-de-shell" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Acceso a Datos" class="md-header__button md-logo" aria-label="Acceso a Datos" data-md-component="logo">
      
  <img src="../../assets/Cheste.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Acceso a Datos
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              3. Trabajando con MongoDB: Operaciones b√°sicas de shell
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="blue-grey" data-md-color-accent="deep-purple"  aria-label="Dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="deep-orange"  aria-label="Light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Acceso a Datos" class="md-nav__button md-logo" aria-label="Acceso a Datos" data-md-component="logo">
      
  <img src="../../assets/Cheste.png" alt="logo">

    </a>
    Acceso a Datos
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Inicio
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Simulacro examen 1¬™ Evaluaci√≥n
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Simulacro examen 1¬™ Evaluaci√≥n
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Simulacro%20examen%201%C2%AA%20Evaluaci%C3%B3n/Simulacro%20examen/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    üìö Simulacro de examen: Acceso a Datos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Unidad 1 Ficheros
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Unidad 1 Ficheros
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unidad%201%20Ficheros/1_File_System.es/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1. Sistema de archivos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unidad%201%20Ficheros/2_Reading_and_writing_files.es/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2. Lectura y escritura de archivos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unidad%201%20Ficheros/3_XML_Files.es/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    3. Archivos XML
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unidad%201%20Ficheros/4_JSON_Files.es/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    4. Archivos JSON
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unidad%201%20Ficheros/5_Extra_Formats.es/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    5. Formatos extra
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unidad%201%20Ficheros/6_Ejercicios.es/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Ejercicios sistema de archivos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Unidad 2 Conectores de BBDD
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Unidad 2 Conectores de BBDD
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unidad%202%20Conectores%20de%20BBDD/1_Object_relational_impedance_mismatch.es/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1. Desfase objeto-relacional
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unidad%202%20Conectores%20de%20BBDD/2_Connectors.es/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2. Conectores
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unidad%202%20Conectores%20de%20BBDD/3_Connecting.es/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    3. Conectando a bases de datos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unidad%202%20Conectores%20de%20BBDD/4_Resultset.es/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    4. Clase ResultSet.
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unidad%202%20Conectores%20de%20BBDD/5_Metadata.es/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    5. Metadata de la base de datos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unidad%202%20Conectores%20de%20BBDD/6_CRUD.es/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    6. Statements and CRUD operations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unidad%202%20Conectores%20de%20BBDD/7_Row_to_Object.es/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    7. De filas a Objetos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unidad%202%20Conectores%20de%20BBDD/clienteSQL/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Actividad Cliente MySQL
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Unidad 3 Hibernate
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Unidad 3 Hibernate
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unidad%203%20Hibernate/1_Mapping.es/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1 Mapping
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unidad%203%20Hibernate/2_Hibernate.es/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2. Hibernate
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unidad%203%20Hibernate/3_Entities_Beans.es/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    3. Mapeo de Entidades con JPA y Hibernate
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unidad%203%20Hibernate/4_Relationships.es/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    4. Mapeando Relaciones
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unidad%203%20Hibernate/5_HQL.es/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    5. Hibernate Query Language (HQL) / JPQL
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unidad%203%20Hibernate/6_Ejercicio/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    6 Ejercicio
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Unidad 4 BBDDOO
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Unidad 4 BBDDOO
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unidad%204%20BBDDOO/1_Introducci%C3%B3n/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1 Introducci√≥n
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unidad%204%20BBDDOO/2_ORDB/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2 ORDB
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unidad%204%20BBDDOO/3_OODB/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    3 OODB
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Unidad 5 Spring Boot
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Unidad 5 Spring Boot
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unidad%205%20Spring%20Boot/1_Servicios%20de%20Acceso%20a%20Datos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1 Servicios de Acceso a Datos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unidad%205%20Spring%20Boot/2_Spring_Spring%20Boot/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2 Spring Spring Boot
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unidad%205%20Spring%20Boot/3_API_Rest/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    3 API Rest
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unidad%205%20Spring%20Boot/4_Spring_Security/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    4 Spring Security
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unidad%205%20Spring%20Boot/5_Spring_Hateoas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    5 Spring Hateoas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" checked>
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Unidad 6 MongoDB
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Unidad 6 MongoDB
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1_NoSQL.es/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1. Bases de datos NoSQL
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2_MongoDB.es/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2. MongoDB
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    3. Trabajando con MongoDB: Operaciones b√°sicas de shell
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    3. Trabajando con MongoDB: Operaciones b√°sicas de shell
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#31-colecciones-y-documentos" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1. Colecciones y Documentos
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#32-operaciones-basicas-con-mongodb" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2. Operaciones b√°sicas con MongoDB
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#33-tipo-de-datos" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3. Tipo de datos
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.3. Tipo de datos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#331-fecha" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3.1. Fecha
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#332-arrays" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3.2. Arrays
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#333-documentos-incrustados" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3.3. Documentos incrustados
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#334-que-son-los-objetids" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3.4. ¬øQu√© son los OBjetIds?
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#34-anadiendo-informacion-a-las-colecciones" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.4. A√±adiendo informaci√≥n a las colecciones
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.4. A√±adiendo informaci√≥n a las colecciones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#341-insertone" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.4.1. insertOne()
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#342-insertmany" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.4.2. insertMany()
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#35-eliminando-informacion" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.5. Eliminando informaci√≥n
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#36-actualizacion-de-documentos" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.6. Actualizaci√≥n de documentos
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.6. Actualizaci√≥n de documentos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#361-actualizacion-de-reemplazo-replace" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.6.1. Actualizaci√≥n de reemplazo (replace)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.6.1. Actualizaci√≥n de reemplazo (replace)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#3611-modificadores" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.6.1.1. Modificadores
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3612-upserts" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.6.1.2. Upserts
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_Queries.es/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    4. Consultas en Mongo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../5_Mongo_Java.es/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    5. MongoDB y Java
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../6_Spring_MongoDB.es/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    6. Spring Data MongoDB y API REST
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Unidad 7 IA
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    Unidad 7 IA
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unidad%207%20IA/Configuraci%C3%B3n%20del%20entorno%20de%20trabajo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuraci√≥n del entorno de trabajo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unidad%207%20IA/NLP%20Transformers%20y%20LLMs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    NLP: Transformers y LLMs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unidad%207%20IA/NLP%20con%20Spring%20AI%20Desarrollo%20de%20Chatbots%20en%20Java/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    NLP: SpringAI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_4" >
        
          
          <label class="md-nav__link" for="__nav_9_4" id="__nav_9_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    ChefAI
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    ChefAI
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unidad%207%20IA/ChefAI/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ChefAI - Documentacion didactica
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unidad%207%20IA/ChefAI/clases/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Clases del backend
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unidad%207%20IA/ChefAI/configuracion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuracion (application.properties)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unidad%207%20IA/ChefAI/frontend/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Frontend (HTML, CSS y JavaScript)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#31-colecciones-y-documentos" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1. Colecciones y Documentos
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#32-operaciones-basicas-con-mongodb" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2. Operaciones b√°sicas con MongoDB
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#33-tipo-de-datos" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3. Tipo de datos
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.3. Tipo de datos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#331-fecha" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3.1. Fecha
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#332-arrays" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3.2. Arrays
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#333-documentos-incrustados" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3.3. Documentos incrustados
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#334-que-son-los-objetids" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3.4. ¬øQu√© son los OBjetIds?
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#34-anadiendo-informacion-a-las-colecciones" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.4. A√±adiendo informaci√≥n a las colecciones
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.4. A√±adiendo informaci√≥n a las colecciones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#341-insertone" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.4.1. insertOne()
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#342-insertmany" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.4.2. insertMany()
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#35-eliminando-informacion" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.5. Eliminando informaci√≥n
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#36-actualizacion-de-documentos" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.6. Actualizaci√≥n de documentos
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.6. Actualizaci√≥n de documentos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#361-actualizacion-de-reemplazo-replace" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.6.1. Actualizaci√≥n de reemplazo (replace)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.6.1. Actualizaci√≥n de reemplazo (replace)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#3611-modificadores" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.6.1.1. Modificadores
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3612-upserts" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.6.1.2. Upserts
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="3-trabajando-con-mongodb-operaciones-basicas-de-shell">3. Trabajando con MongoDB: Operaciones b√°sicas de shell</h1>
<h2 id="31-colecciones-y-documentos">3.1. Colecciones y Documentos</h2>
<p>Como ya sabemos, la unidad b√°sica de informaci√≥n con la que trabaja MongoDB es el <strong>documento</strong>, que ser√≠a el equivalente a un registro en un modelo relacional. Estos son <strong>documentos JSON</strong>, formados por pares <strong>clave-valor</strong>, y que representan la informaci√≥n de forma bastante intuitiva. Los servidores de MongoDB, por su parte, almacenar√°n estos datos en formato <strong>BSON</strong> (Binary JSON), un formato de serializaci√≥n binaria.</p>
<p>En cuanto a los documentos JSON para MongoDB, es necesario tener en cuenta algunos aspectos:</p>
<ul>
<li>En cuanto a las claves: </li>
<li>No pueden ser nulas. </li>
<li>Pueden consistir en cualquier car√°cter UTF-8, excepto los caracteres <code>.</code> o <code>$</code>. </li>
<li>Son sensibles a may√∫sculas y min√∫sculas. </li>
<li>Deben ser √∫nicas dentro del mismo documento.</li>
<li>En cuanto a los valores: </li>
<li>Pueden ser de cualquier tipo permitido.</li>
<li>En cuanto al documento: </li>
<li>Debe tener un campo <code>_id</code>, con un valor √∫nico, que actuar√° como identificador del documento. </li>
<li>Si no especificamos esta clave, MongoDB la generar√° autom√°ticamente, con un objeto de tipo <code>ObjectId</code>.</li>
</ul>
<p>Si los documentos son el equivalente a los registros, las colecciones son el equivalente a las tablas, con la diferencia de que las colecciones tienen un esquema din√°mico, con el que <strong>los documentos de la misma colecci√≥n pueden presentar claves o tipos de datos diferentes entre ellos</strong>.</p>
<p>Los nombres de las colecciones estar√°n sujetos a las siguientes restricciones:</p>
<ul>
<li>No pueden ser la cadena vac√≠a (<code>`````), ni el car√°cter</code>null<code>, ni contener el s√≠mbolo</code>$`.</li>
<li>Podemos utilizar el punto (<code>.</code>) en los nombres de las colecciones para a√±adir prefijos, pero las colecciones no se pueden crear con el prefijo <code>system.</code>, ya que √©ste se utiliza para colecciones internas del <em>sistema</em>. Por ejemplo, <code>db.system.test</code> no ser√≠a v√°lido, pero <code>db.systema.test</code> s√≠ lo ser√≠a.</li>
</ul>
<p>Para realizar las pruebas trabajaremos con el Shell que nos ofrece Studio3T.</p>
<p>Una vez conectemos, bot√≥n derecho sobre la base de datos que nos interesa y opci√≥n de Open Intellishell:</p>
<p><img alt="Studio3T_Shell_1" src="../img/Studio3T_Shell_1.png" /></p>
<p>Que nos abrir√° el shell a trav√©s del cual ejecutar los comandos de mongodb:</p>
<p><img alt="Studio3T_Shell_2" src="../img/Studio3T_Shell_2.png" /></p>
<h2 id="32-operaciones-basicas-con-mongodb">3.2. Operaciones b√°sicas con MongoDB</h2>
<p>A continuaci√≥n, veremos algunas de las operaciones b√°sicas que podemos realizar en MongoDB:</p>
<ul>
<li><code>insertOne(documento)</code> ‚Üí A√±ade un documento a la colecci√≥n: </li>
<li><code>db.collection.insertOne({ a:1 })</code></li>
<li><code>insertMany(documents)</code> ‚Üí A√±ade un conjunto de documentos a la colecci√≥n: </li>
<li><code>db.collection.insertMany([{ a:1 },{ a:2 },{ a:3,b:5 }])</code></li>
<li><code>find(criteria)</code> ‚Üí Obtiene todos los documentos de una colecci√≥n que coinciden con el patr√≥n especificado. </li>
<li><code>db.collection.find({a:1})</code>. Tenga en cuenta que el patr√≥n ser√° tambi√©n un objeto JSON.</li>
<li><code>findOne(Criterion)</code> ‚Üí Obtiene un elemento de la colecci√≥n que coincide con el patr√≥n. </li>
<li><code>db.collection.findOne()</code></li>
<li><code>updateOne(Criterion, Operation, [options])</code> y <code>updateMany(Criterion, Operation, [options])</code> ‚Üí Actualiza uno (o varios en el caso de updateMany) documentos de la colecci√≥n. Requiere dos par√°metros: </li>
<li>los criterios de b√∫squeda del documento a actualizar y </li>
<li>la operaci√≥n de actualizaci√≥n. </li>
<li>Admite un tercer par√°metro opcional para opciones. </li>
<li><code>db.collection.updateOne({a:1}, {$set: {a:2}})</code></li>
<li><code>deleteOne(Criterion)</code> y <code>deleteMany(Criterion)</code> ‚Üí Elimina los documentos de una colecci√≥n que coinciden con los criterios. </li>
<li><code>db.collection.deleteOne({a:1})</code></li>
</ul>
<p>En las siguientes secciones profundizaremos en las distintas operaciones.</p>
<h2 id="33-tipo-de-datos">3.3. Tipo de datos</h2>
<p>Los tipos de datos con los que trabaja MongoDB son similares a los que podemos encontrar en JavaScript y Java. MongoDB admite los tipos b√°sicos descritos en la siguiente tabla:</p>
<ul>
<li><code>null</code> ‚Üí Representa tanto el valor nulo como un campo que no existe.</li>
<li><code>boolean</code> ‚Üí Permite los valores true y false.</li>
<li><code>number</code> ‚Üí Representa valores num√©ricos de punto flotante. Si queremos utilizar tipos enteros o enteros largos, debemos utilizar nuestras propias clases: NumberInt (32 bits) o NumberLong (64 bits).</li>
<li><code>String</code> ‚Üí Representa cualquier cadena de texto UTF-8 v√°lida.</li>
<li><code>Date</code> ‚Üí Representa fechas, expresadas en milisegundos.</li>
<li><code>array</code> ‚Üí Listas de valores que se representan como vectores.</li>
<li><code>Documentos incrustados</code> ‚Üí Los documentos pueden tener otros documentos incrustados en ellos.</li>
<li><code>ObjectId</code> ‚Üí √âste es el tipo por defecto para los campos <code>_id</code>, y est√° dise√±ado para generar f√°cilmente valores √∫nicos a nivel global.</li>
</ul>
<h3 id="331-fecha">3.3.1. Fecha</h3>
<p>Mongo utiliza el tipo <code>Date</code> de JavaScript. Cuando generamos un nuevo objeto de tipo Date, debemos utilizar el operador <code>New</code>, ya que de lo contrario obtendr√≠amos una representaci√≥n de la fecha en forma de cadena.
Por ejemplo, si definimos las variables <code>a</code> y <code>b</code> de la siguiente manera:</p>
<div class="language-js highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nx">test</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">a</span><span class="o">=</span><span class="nb">Date</span><span class="p">()</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="nx">test</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">b</span><span class="o">=</span><span class="ow">new</span><span class="w"> </span><span class="nb">Date</span><span class="p">()</span>
</span></code></pre></div>
<p>los resultados ser√≠an bastante diferentes:</p>
<div class="language-js highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="nx">test</span><span class="o">&gt;</span><span class="w"> </span><span class="nx">a</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="nx">Wed</span><span class="w"> </span><span class="nx">Jan</span><span class="w"> </span><span class="mf">14</span><span class="w"> </span><span class="mf">2026</span><span class="w"> </span><span class="mf">18</span><span class="o">:</span><span class="mf">23</span><span class="o">:</span><span class="mf">32</span><span class="w"> </span><span class="nx">GMT</span><span class="o">+</span><span class="mo">0100</span><span class="w"> </span><span class="p">(</span><span class="nx">hora</span><span class="w"> </span><span class="nx">est√°ndar</span><span class="w"> </span><span class="nx">de</span><span class="w"> </span><span class="nx">Europa</span><span class="w"> </span><span class="nx">central</span><span class="p">)</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="nx">test</span><span class="o">&gt;</span><span class="w"> </span><span class="ow">typeof</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="nx">string</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="nx">test</span><span class="o">&gt;</span><span class="nx">b</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="nx">ISODate</span><span class="p">(</span><span class="s1">&#39;2026-01-14T17:23:50.465Z&#39;</span><span class="p">)</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="nx">test</span><span class="o">&gt;</span><span class="w"> </span><span class="ow">typeof</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="nx">object</span>
</span></code></pre></div>
<h3 id="332-arrays">3.3.2. Arrays</h3>
<p>Los arrays pueden utilizarse para representar colecciones ordenadas, como listas o colas, o colecciones desordenadas, como conjuntos. Como en JavaScript, ya diferencia de otros lenguajes, como Java, cada elemento del vector puede tener un tipo de dato diferente, incluidos otros objetos de tipo vector.</p>
<p>Veamos algunos ejemplos sobre vectores en JavaScript y, por tanto, en MongoDB:</p>
<div class="language-js highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c1">// array creation</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="nx">test</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">v</span><span class="o">=</span><span class="p">{</span><span class="nx">objetos</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;casa&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">10</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="nx">texto</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;hola&quot;</span><span class="p">},</span><span class="w"> </span><span class="kc">false</span><span class="p">]</span><span class="w"> </span><span class="p">}</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="c1">// ask for objects components</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="nx">test</span><span class="o">&gt;</span><span class="w"> </span><span class="nx">v</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="p">{</span><span class="w"> </span><span class="nx">objetos</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s1">&#39;casa&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">10</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">texto</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;hola&#39;</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="nx">test</span><span class="o">&gt;</span><span class="w"> </span><span class="nx">v</span><span class="p">.</span><span class="nx">objetos</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="p">[</span><span class="w"> </span><span class="s1">&#39;casa&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">10</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">texto</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;hola&#39;</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="p">]</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="c1">// ask for array cells</span>
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="nx">test</span><span class="o">&gt;</span><span class="w"> </span><span class="nx">v</span><span class="p">.</span><span class="nx">objetos</span><span class="p">[</span><span class="mf">1</span><span class="p">]</span>
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="mf">10</span>
</span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a>
</span><span id="__span-2-15"><a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a><span class="nx">test</span><span class="o">&gt;</span><span class="w"> </span><span class="nx">v</span><span class="p">.</span><span class="nx">objetos</span><span class="p">[</span><span class="mf">2</span><span class="p">]</span>
</span><span id="__span-2-16"><a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a><span class="p">{</span><span class="w"> </span><span class="nx">texto</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;hola&#39;</span><span class="w"> </span><span class="p">}</span>
</span><span id="__span-2-17"><a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a>
</span><span id="__span-2-18"><a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a><span class="c1">// change values</span>
</span><span id="__span-2-19"><a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a><span class="nx">test</span><span class="o">&gt;</span><span class="w"> </span><span class="nx">v</span><span class="p">.</span><span class="nx">objetos</span><span class="p">[</span><span class="mf">3</span><span class="p">]</span><span class="o">=!</span><span class="nx">v</span><span class="p">.</span><span class="nx">objetos</span><span class="p">[</span><span class="mf">3</span><span class="p">]</span>
</span><span id="__span-2-20"><a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a><span class="kc">true</span>
</span><span id="__span-2-21"><a id="__codelineno-2-21" name="__codelineno-2-21" href="#__codelineno-2-21"></a>
</span><span id="__span-2-22"><a id="__codelineno-2-22" name="__codelineno-2-22" href="#__codelineno-2-22"></a><span class="nx">test</span><span class="o">&gt;</span><span class="w"> </span><span class="nx">v</span>
</span><span id="__span-2-23"><a id="__codelineno-2-23" name="__codelineno-2-23" href="#__codelineno-2-23"></a><span class="p">{</span><span class="w"> </span><span class="nx">objetos</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s1">&#39;casa&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">10</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">texto</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;hola&#39;</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span>
</span></code></pre></div>
<h3 id="333-documentos-incrustados">3.3.3. Documentos incrustados</h3>
<p>Un par clave-valor en un documento puede tener otro documento como valor. Esto se conoce como <strong>documentos incrustados</strong> (<em>embedded</em>), y ser√≠a cuando se utiliza un objeto JSON dentro de otro. Por ejemplo:</p>
<div class="language-js highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="o">&gt;</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">peli</span><span class="o">=</span><span class="p">{</span><span class="w"> </span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="nx">titulo</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Rogue One. En Star Wars Story.&quot;</span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="nx">a√±o</span><span class="o">:</span><span class="w"> </span><span class="mf">2016</span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="nx">director</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="nx">n√∫mero</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Gareth&quot;</span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="nx">cogidos</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Edwards&quot;</span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="nx">a√±o_nacimiento</span><span class="o">:</span><span class="w"> </span><span class="mf">1975</span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="nx">nacionalidad</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;brit√°nica&quot;</span><span class="w"> </span>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="p">}</span><span class="w"> </span>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="p">}</span>
</span></code></pre></div>
<p>Como puede verse, el documento en s√≠ mismo contiene informaci√≥n sobre la pel√≠cula y su director. En un modelo relacional, normalmente tendr√≠amos dos tablas relacionadas entre s√≠. En este caso, es posible que si queremos mantener informaci√≥n espec√≠fica sobre los directores, acabemos con informaci√≥n redundante.</p>
<h3 id="334-que-son-los-objetids">3.3.4. ¬øQu√© son los OBjetIds?</h3>
<p>La clase ObjectId utiliza 12 bytes, organizados de la siguiente manera:</p>
<p><img alt="ObjectID" src="../img/ObjectId.png" width="55%" /></p>
<ul>
<li><strong>Timestamp</strong> (bytes 0-3) ‚Üí La marca de tiempo en segundos desde el 1 de enero de 1970.</li>
<li><strong>Machine ID</strong> (bytes 4-6) ‚Üí Identificador √∫nico de la m√°quina, normalmente un hash de su hostname.</li>
<li><strong>PID</strong> (bytes 7-8) ‚Üí Identificador del proceso que genera el ObjectID, para garantizar la unicidad dentro de la misma m√°quina.</li>
<li><strong>Incremento</strong> (bytes 9-11) ‚Üí Valor auto-incremental, para garantizar la unicidad en el mismo segundo, m√°quina y proceso.</li>
</ul>
<p>Como puede verse, es un mecanismo m√°s robusto que un campo auto-incremental como en MySQL. Esto corresponde a la naturaleza distribuida de MongoDB, por lo que los objetos se pueden generar en un entorno multi-host.</p>
<h2 id="34-anadiendo-informacion-a-las-colecciones">3.4. A√±adiendo informaci√≥n a las colecciones</h2>
<p>La forma natural de a√±adir elementos a la base de datos es a trav√©s de los diferentes m√©todos de inserci√≥n, disponibles en todas las colecciones.</p>
<h3 id="341-insertone">3.4.1. <code>insertOne()</code></h3>
<p>Permite insertar un documento en la colecci√≥n. Por ejemplo, para insertar el objeto <em>peli</em> creado en la secci√≥n anterior, podemos hacer. Para ello antes definiremos la siguiente variable:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>let peli2={
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>    &quot;titulo&quot;: &quot;Ciudad de Dios&quot;,
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>    &quot;anyo&quot;: 2002,
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>    &quot;director&quot;: &quot;Fernando Meirelles&quot;,
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>    &quot;pais&quot;: &quot;Brasil&quot;,
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>    &quot;genero&quot;: [&quot;Crimen&quot;, &quot;Drama&quot;],
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>    &quot;duracion_minutos&quot;: 130,
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>    &quot;clasificacion&quot;: &quot;No recomendada menores de 18 a√±os&quot;,
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>    &quot;actores_principales&quot;: [&quot;Alexandre Rodrigues&quot;, &quot;Leandro Firmino&quot;, &quot;Phellipe Haagensen&quot;],
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>    &quot;puntuacion_imdb&quot;: 8.6,
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a>    &quot;oscars&quot;: 4
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a>  }
</span></code></pre></div>
<p><img alt="Studio3T_Shell_3" src="../img/Studio3T_Shell_3.png" /></p>
<div class="language-js highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="nx">test</span><span class="o">&gt;</span><span class="w"> </span><span class="nx">db</span><span class="p">.</span><span class="nx">Peli</span><span class="p">.</span><span class="nx">insertOne</span><span class="p">(</span><span class="nx">peli2</span><span class="p">)</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="p">{</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w">  </span><span class="nx">acknowledged</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="w">  </span><span class="nx">insertedId</span><span class="o">:</span><span class="w"> </span><span class="nx">ObjectId</span><span class="p">(</span><span class="s1">&#39;6967d5ac3ec39d568ab0834b&#39;</span><span class="p">)</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="p">}</span>
</span></code></pre></div>
<p><img alt="Studio3T_Shell_4" src="../img/Studio3T_Shell_4.png" /></p>
<p>Como puede verse, la respuesta es un documento JSON que contiene un valor booleano que indica si la operaci√≥n ha sido exitosa, y un ObjectID, con el ID asignado autom√°ticamente.</p>
<div class="admonition importante">
<p class="admonition-title">Importante</p>
</div>
<p>Tenga en cuenta:</p>
<ul>
<li>Si la colecci√≥n a la que a√±adimos un documento no existe, se crear√° autom√°ticamente.</li>
<li>En cuanto al campo <code>_id</code>, como podemos ver, se gener√≥ autom√°ticamente. Sin embargo, podemos indicar este identificador, sin que sea de tipo ObjectId, cuya √∫nica restricci√≥n es que sea √∫nico, para evitar duplicados.</li>
<li>No hemos utilizado ning√∫n esquema para la colecci√≥n, puesto que cada documento que insertamos puede tener un esquema diferente.</li>
</ul>
<h3 id="342-insertmany">3.4.2. <code>insertMany()</code></h3>
<p>Permite a√±adir varios documentos a una colecci√≥n. Entonces, debemos proporcionar un array de documentos:</p>
<div class="language-js highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1">// we create three objects</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="kd">let</span><span class="w"> </span><span class="nx">peli3</span><span class="o">=</span><span class="p">{</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="w">    </span><span class="s2">&quot;titulo&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Regreso al futuro&quot;</span><span class="p">,</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="w">    </span><span class="s2">&quot;anyo&quot;</span><span class="o">:</span><span class="w"> </span><span class="mf">1985</span><span class="p">,</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="w">    </span><span class="s2">&quot;director&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Robert Zemeckis&quot;</span><span class="p">,</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="w">    </span><span class="s2">&quot;pais&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Estados Unidos&quot;</span><span class="p">,</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="w">    </span><span class="s2">&quot;genero&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Aventura&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Comedia&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Ciencia ficci√≥n&quot;</span><span class="p">],</span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="w">    </span><span class="s2">&quot;duracion_minutos&quot;</span><span class="o">:</span><span class="w"> </span><span class="mf">116</span><span class="p">,</span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="w">    </span><span class="s2">&quot;clasificacion&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Todos los p√∫blicos&quot;</span><span class="p">,</span>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="w">    </span><span class="s2">&quot;actores_principales&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Michael J. Fox&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Christopher Lloyd&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Lea Thompson&quot;</span><span class="p">],</span>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="w">    </span><span class="s2">&quot;puntuacion_imdb&quot;</span><span class="o">:</span><span class="w"> </span><span class="mf">8.5</span><span class="p">,</span>
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="w">    </span><span class="s2">&quot;oscars&quot;</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span>
</span><span id="__span-6-13"><a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a><span class="w">    </span><span class="s2">&quot;taquilla_global_millones&quot;</span><span class="o">:</span><span class="w"> </span><span class="mf">388.8</span>
</span><span id="__span-6-14"><a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a><span class="p">};</span>
</span><span id="__span-6-15"><a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a><span class="kd">let</span><span class="w"> </span><span class="nx">peli4</span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-6-16"><a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a><span class="w">    </span><span class="s2">&quot;titulo&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;El bueno, el feo y el malo&quot;</span><span class="p">,</span>
</span><span id="__span-6-17"><a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a><span class="w">    </span><span class="s2">&quot;anyo&quot;</span><span class="o">:</span><span class="w"> </span><span class="mf">1966</span><span class="p">,</span>
</span><span id="__span-6-18"><a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a><span class="w">    </span><span class="s2">&quot;director&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Sergio Leone&quot;</span><span class="p">,</span>
</span><span id="__span-6-19"><a id="__codelineno-6-19" name="__codelineno-6-19" href="#__codelineno-6-19"></a><span class="w">    </span><span class="s2">&quot;pais&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Italia&quot;</span><span class="p">,</span>
</span><span id="__span-6-20"><a id="__codelineno-6-20" name="__codelineno-6-20" href="#__codelineno-6-20"></a><span class="w">    </span><span class="s2">&quot;genero&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Western&quot;</span><span class="p">],</span>
</span><span id="__span-6-21"><a id="__codelineno-6-21" name="__codelineno-6-21" href="#__codelineno-6-21"></a><span class="w">    </span><span class="s2">&quot;duracion_minutos&quot;</span><span class="o">:</span><span class="w"> </span><span class="mf">178</span><span class="p">,</span>
</span><span id="__span-6-22"><a id="__codelineno-6-22" name="__codelineno-6-22" href="#__codelineno-6-22"></a><span class="w">    </span><span class="s2">&quot;clasificacion&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;No recomendada menores de 13 a√±os&quot;</span><span class="p">,</span>
</span><span id="__span-6-23"><a id="__codelineno-6-23" name="__codelineno-6-23" href="#__codelineno-6-23"></a><span class="w">    </span><span class="s2">&quot;actores_principales&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Clint Eastwood&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Eli Wallach&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Lee Van Cleef&quot;</span><span class="p">],</span>
</span><span id="__span-6-24"><a id="__codelineno-6-24" name="__codelineno-6-24" href="#__codelineno-6-24"></a><span class="w">    </span><span class="s2">&quot;puntuacion_imdb&quot;</span><span class="o">:</span><span class="w"> </span><span class="mf">8.8</span><span class="p">,</span>
</span><span id="__span-6-25"><a id="__codelineno-6-25" name="__codelineno-6-25" href="#__codelineno-6-25"></a><span class="w">    </span><span class="s2">&quot;taquilla_global_millones&quot;</span><span class="o">:</span><span class="w"> </span><span class="mf">38.9</span>
</span><span id="__span-6-26"><a id="__codelineno-6-26" name="__codelineno-6-26" href="#__codelineno-6-26"></a><span class="p">};</span>
</span><span id="__span-6-27"><a id="__codelineno-6-27" name="__codelineno-6-27" href="#__codelineno-6-27"></a><span class="kd">let</span><span class="w"> </span><span class="nx">peli5</span><span class="o">=</span><span class="p">{</span>
</span><span id="__span-6-28"><a id="__codelineno-6-28" name="__codelineno-6-28" href="#__codelineno-6-28"></a><span class="w">    </span><span class="s2">&quot;titulo&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;El se√±or de los anillos: El retorno del rey&quot;</span><span class="p">,</span>
</span><span id="__span-6-29"><a id="__codelineno-6-29" name="__codelineno-6-29" href="#__codelineno-6-29"></a><span class="w">    </span><span class="s2">&quot;anyo&quot;</span><span class="o">:</span><span class="w"> </span><span class="mf">2003</span><span class="p">,</span>
</span><span id="__span-6-30"><a id="__codelineno-6-30" name="__codelineno-6-30" href="#__codelineno-6-30"></a><span class="w">    </span><span class="s2">&quot;director&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Peter Jackson&quot;</span><span class="p">,</span>
</span><span id="__span-6-31"><a id="__codelineno-6-31" name="__codelineno-6-31" href="#__codelineno-6-31"></a><span class="w">    </span><span class="s2">&quot;pais&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Nueva Zelanda&quot;</span><span class="p">,</span>
</span><span id="__span-6-32"><a id="__codelineno-6-32" name="__codelineno-6-32" href="#__codelineno-6-32"></a><span class="w">    </span><span class="s2">&quot;genero&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Aventura&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Drama&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Fantas√≠a&quot;</span><span class="p">],</span>
</span><span id="__span-6-33"><a id="__codelineno-6-33" name="__codelineno-6-33" href="#__codelineno-6-33"></a><span class="w">    </span><span class="s2">&quot;duracion_minutos&quot;</span><span class="o">:</span><span class="w"> </span><span class="mf">201</span><span class="p">,</span>
</span><span id="__span-6-34"><a id="__codelineno-6-34" name="__codelineno-6-34" href="#__codelineno-6-34"></a><span class="w">    </span><span class="s2">&quot;clasificacion&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;No recomendada menores de 12 a√±os&quot;</span><span class="p">,</span>
</span><span id="__span-6-35"><a id="__codelineno-6-35" name="__codelineno-6-35" href="#__codelineno-6-35"></a><span class="w">    </span><span class="s2">&quot;actores_principales&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Elijah Wood&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Viggo Mortensen&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Ian McKellen&quot;</span><span class="p">],</span>
</span><span id="__span-6-36"><a id="__codelineno-6-36" name="__codelineno-6-36" href="#__codelineno-6-36"></a><span class="w">    </span><span class="s2">&quot;puntuacion_imdb&quot;</span><span class="o">:</span><span class="w"> </span><span class="mf">9.0</span><span class="p">,</span>
</span><span id="__span-6-37"><a id="__codelineno-6-37" name="__codelineno-6-37" href="#__codelineno-6-37"></a><span class="w">    </span><span class="s2">&quot;oscars&quot;</span><span class="o">:</span><span class="w"> </span><span class="mf">11</span><span class="p">,</span>
</span><span id="__span-6-38"><a id="__codelineno-6-38" name="__codelineno-6-38" href="#__codelineno-6-38"></a><span class="w">    </span><span class="s2">&quot;taquilla_global_millones&quot;</span><span class="o">:</span><span class="w"> </span><span class="mf">1146.0</span>
</span><span id="__span-6-39"><a id="__codelineno-6-39" name="__codelineno-6-39" href="#__codelineno-6-39"></a><span class="p">};</span>
</span><span id="__span-6-40"><a id="__codelineno-6-40" name="__codelineno-6-40" href="#__codelineno-6-40"></a>
</span><span id="__span-6-41"><a id="__codelineno-6-41" name="__codelineno-6-41" href="#__codelineno-6-41"></a><span class="c1">// insert them, in array way</span>
</span><span id="__span-6-42"><a id="__codelineno-6-42" name="__codelineno-6-42" href="#__codelineno-6-42"></a><span class="nx">test</span><span class="o">&gt;</span><span class="w"> </span><span class="nx">db</span><span class="p">.</span><span class="nx">Peli</span><span class="p">.</span><span class="nx">insertMany</span><span class="p">([</span><span class="nx">peli3</span><span class="p">,</span><span class="w"> </span><span class="nx">peli4</span><span class="p">,</span><span class="w"> </span><span class="nx">peli5</span><span class="p">])</span>
</span><span id="__span-6-43"><a id="__codelineno-6-43" name="__codelineno-6-43" href="#__codelineno-6-43"></a><span class="p">{</span>
</span><span id="__span-6-44"><a id="__codelineno-6-44" name="__codelineno-6-44" href="#__codelineno-6-44"></a><span class="w">  </span><span class="nx">acknowledged</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</span><span id="__span-6-45"><a id="__codelineno-6-45" name="__codelineno-6-45" href="#__codelineno-6-45"></a><span class="w">  </span><span class="nx">insertedIds</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-6-46"><a id="__codelineno-6-46" name="__codelineno-6-46" href="#__codelineno-6-46"></a><span class="w">    </span><span class="s1">&#39;0&#39;</span><span class="o">:</span><span class="w"> </span><span class="nx">ObjectId</span><span class="p">(</span><span class="s1">&#39;6967d7a13ec39d568ab0834c&#39;</span><span class="p">),</span>
</span><span id="__span-6-47"><a id="__codelineno-6-47" name="__codelineno-6-47" href="#__codelineno-6-47"></a><span class="w">    </span><span class="s1">&#39;1&#39;</span><span class="o">:</span><span class="w"> </span><span class="nx">ObjectId</span><span class="p">(</span><span class="s1">&#39;6967d7a13ec39d568ab0834d&#39;</span><span class="p">),</span>
</span><span id="__span-6-48"><a id="__codelineno-6-48" name="__codelineno-6-48" href="#__codelineno-6-48"></a><span class="w">    </span><span class="s1">&#39;2&#39;</span><span class="o">:</span><span class="w"> </span><span class="nx">ObjectId</span><span class="p">(</span><span class="s1">&#39;6967d7a13ec39d568ab0834e&#39;</span><span class="p">)</span>
</span><span id="__span-6-49"><a id="__codelineno-6-49" name="__codelineno-6-49" href="#__codelineno-6-49"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-6-50"><a id="__codelineno-6-50" name="__codelineno-6-50" href="#__codelineno-6-50"></a><span class="p">}</span>
</span></code></pre></div>
<div class="admonition importante">
<p class="admonition-title">Importante</p>
</div>
<p>Si se produce un error durante la inserci√≥n, ni el documento que provoca el error ni los siguientes documentos se insertar√°n en la colecci√≥n.</p>
<h2 id="35-eliminando-informacion">3.5. Eliminando informaci√≥n</h2>
<p>Para eliminar documentos de una colecci√≥n utilizaremos los comandos <code>deleteOne()</code>, <code>deleteMany()</code> o <code>findOneAndDelete()</code>, proporcion√°ndoles como par√°metro un JSON con una <strong>condici√≥n</strong> que queremos que cumplan el documento o documentos a eliminar.</p>
<ul>
<li>El comando <strong>deleteOne</strong> s√≥lo eliminar√° el primer elemento que coincida con los criterios, as√≠ que si queremos eliminar un documento espec√≠fico, debemos utilizar criterios que correspondan a identificadores √∫nicos, como el <code>_id</code>.</li>
<li>El comando <strong>deleteMany</strong> eliminar√° todos los documentos que coincidan con los criterios.</li>
</ul>
<p>Tanto <code>deleteOne</code> como <code>deleteMany</code> devuelven un documento con un booleano, indicando si la operaci√≥n se ha realizado, as√≠ como el n√∫mero de elementos eliminados (<strong>deletedCount</strong>).</p>
<p>Por su parte, <strong>findOneAndDelete</strong> tambi√©n elimina un documento, bas√°ndose en criterios de selecci√≥n y ordenaci√≥n, pero tambi√©n devolviendo el documento que ha sido eliminado.</p>
<p>Por ejemplo, creamos unacolecci√≥n con varios elementos:</p>
<div class="language-js highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="nx">db</span><span class="p">.</span><span class="nx">pruebas</span><span class="p">.</span><span class="nx">insertMany</span><span class="p">([{</span><span class="nx">x</span><span class="o">:</span><span class="mf">1</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="mf">2</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="mf">3</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="mf">4</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="mf">5</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="mf">6</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="mf">7</span><span class="p">}]);</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="c1">// to delete one document</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="nx">test</span><span class="o">&gt;</span><span class="w"> </span><span class="nx">db</span><span class="p">.</span><span class="nx">pruebas</span><span class="p">.</span><span class="nx">deleteOne</span><span class="p">({})</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="p">{</span><span class="w"> </span><span class="nx">acknowledged</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="nx">deletedCount</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="p">}</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="c1">// as no confition is set, is satisfied by all documentos,</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="c1">// then first document will be deleted</span>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="c1">// to delete several documentos, for instance its x&#39;s value greather than 3</span>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a><span class="nx">test</span><span class="o">&gt;</span><span class="w"> </span><span class="nx">db</span><span class="p">.</span><span class="nx">pruebas</span><span class="p">.</span><span class="nx">deleteMany</span><span class="p">({</span><span class="nx">x</span><span class="o">:</span><span class="p">{</span><span class="nx">$gt</span><span class="o">:</span><span class="mf">3</span><span class="p">}})</span>
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a><span class="p">{</span><span class="w"> </span><span class="nx">acknowledged</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="nx">deletedCount</span><span class="o">:</span><span class="w"> </span><span class="mf">4</span><span class="w"> </span><span class="p">}</span>
</span><span id="__span-7-13"><a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a>
</span><span id="__span-7-14"><a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a><span class="c1">// delete and return a documento</span>
</span><span id="__span-7-15"><a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a><span class="nx">test</span><span class="o">&gt;</span><span class="w"> </span><span class="nx">db</span><span class="p">.</span><span class="nx">pruebas</span><span class="p">.</span><span class="nx">findOneAndDelete</span><span class="p">({</span><span class="nx">x</span><span class="o">:</span><span class="mf">2</span><span class="p">})</span>
</span><span id="__span-7-16"><a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a><span class="p">{</span><span class="w"> </span><span class="nx">_id</span><span class="o">:</span><span class="w"> </span><span class="nx">ObjectId</span><span class="p">(</span><span class="s1">&#39;6967d8bfb96045836cb0834c&#39;</span><span class="p">),</span><span class="w"> </span><span class="nx">x</span><span class="o">:</span><span class="w"> </span><span class="mf">2</span><span class="w"> </span><span class="p">}</span>
</span></code></pre></div>
<p>Si queremos eliminar todos los documentos de una colecci√≥n, podr√≠amos utilizar el comando <code>drop</code> en lugar de eso, pero hay que ir con mucho cuidado, ya que tambi√©n eliminar√° alguna metainformaci√≥n.</p>
<div class="language-js highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="nx">test</span><span class="o">&gt;</span><span class="w"> </span><span class="nx">db</span><span class="p">.</span><span class="nx">pruebas</span><span class="p">.</span><span class="nx">drop</span><span class="p">()</span>
</span></code></pre></div>
<h2 id="36-actualizacion-de-documentos">3.6. Actualizaci√≥n de documentos</h2>
<p>Para actualizar documentos, podemos optar por actualizaciones de reemplazo, utilizando el m√©todo <code>replaceOne()</code>, o realizar modificaciones en los documentos existentes, utilizando los m√©todos <code>updateOne()</code>, <code>updateMany()</code> y <code>findOneAndUpdate()</code>. Estos m√©todos recibir√°n dos argumentos: el primero ser√° los criterios o condiciones que deben cumplir los documentos a actualizar, y el segundo ser√° un documento con el nuevo documento o las actualizaciones a aplicar.</p>
<h3 id="361-actualizacion-de-reemplazo-replace">3.6.1. Actualizaci√≥n de reemplazo (replace)</h3>
<p>La operaci√≥n de reemplazo, como su nombre indica, reemplaza un documento entero que cumple los criterios de actualizaci√≥n con otro nuevo documento. Por ejemplo, creamos una nueva colecci√≥n de calendarios, para almacenar contactos, con informaci√≥n sobre tel√©fonos:</p>
<p><div class="language-js highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="nx">test</span><span class="o">&gt;</span><span class="w"> </span><span class="nx">db</span><span class="p">.</span><span class="nx">agenda</span><span class="p">.</span><span class="nx">insertOne</span><span class="p">({</span><span class="nx">n√∫mero</span><span class="o">:</span><span class="s2">&quot;Jose&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">telefonos</span><span class="o">:</span><span class="p">[{</span><span class="nx">trabajo</span><span class="o">:</span><span class="s2">&quot;55512345&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">casa</span><span class="o">:</span><span class="s2">&quot;555111222&quot;</span><span class="p">}]})</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="p">{</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="w">  </span><span class="nx">acknowledged</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="w">  </span><span class="nx">insertedId</span><span class="o">:</span><span class="w"> </span><span class="nx">ObjectId</span><span class="p">(</span><span class="s1">&#39;6967db9ba67922ae4bb0834b&#39;</span><span class="p">)</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="p">}</span>
</span></code></pre></div>
Como podemos ver, este m√©todo devuelve el <code>_id</code> del objeto, a trav√©s del cual podremos identificar este documento de forma inequ√≠voca. As√≠, podr√≠amos reemplazar este documento por otro mediante:</p>
<div class="language-js highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="nx">test</span><span class="o">&gt;</span><span class="w"> </span><span class="nx">db</span><span class="p">.</span><span class="nx">agenda</span><span class="p">.</span><span class="nx">replaceOne</span><span class="p">({</span><span class="s2">&quot;_id&quot;</span><span class="o">:</span><span class="nx">ObjectId</span><span class="p">(</span><span class="s2">&quot;6967db9ba67922ae4bb0834b&quot;</span><span class="p">)},</span><span class="w"> </span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="p">{</span><span class="nx">n√∫mero</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Jose&quot;</span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="nx">correos</span><span class="o">:</span><span class="p">[{</span><span class="nx">trabajo</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;jose@empresa.com&quot;</span><span class="p">},</span><span class="w"> </span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="p">{</span><span class="nx">personal</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;jose@proveedor.com&quot;</span><span class="p">}]}</span><span class="w"> </span><span class="p">)</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="c1">// and the response is</span>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="p">{</span>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="w">  </span><span class="nx">acknowledged</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="w">  </span><span class="nx">insertedId</span><span class="o">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
</span><span id="__span-10-10"><a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a><span class="w">  </span><span class="nx">matchedCount</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span>
</span><span id="__span-10-11"><a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a><span class="w">  </span><span class="nx">modifiedCount</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span>
</span><span id="__span-10-12"><a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a><span class="w">  </span><span class="nx">upsertedCount</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span>
</span><span id="__span-10-13"><a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a><span class="p">}</span>
</span></code></pre></div>
<p>Como puede verse, se trata de reemplazar todo el documento, con lo que podemos incluso modificar su estructura.</p>
<p>Como hemos anticipado, las modificaciones se realizan utilizando los m√©todos <code>updateOne()</code>, <code>updateMany()</code> y <code>findOneAndUpdate()</code>. Similar a las operaciones de eliminaci√≥n, el m√©todo <code>updateOne()</code> modificar√° s√≥lo el primer documento que coincida con los criterios dados y el m√©todo <code>updateMany()</code>, todos aquellos que coincidan con los criterios. Por su parte, el m√©todo <code>findOneAndUpdate()</code> modifica el documento y devuelve el <em>documento original</em> por defecto, aunque esto es configurable a trav√©s de opciones.</p>
<h4 id="3611-modificadores">3.6.1.1. Modificadores</h4>
<p>Los modificadores son claves especiales que nos permiten especificar operaciones de actualizaci√≥n m√°s complejas. Normalmente, no necesitaremos reemplazar todo el documento, como en el caso anterior, sino a√±adir o modificar campos espec√≠ficos:</p>
<ul>
<li><code>$set</code> ‚Üí Asigna un valor a un campo del documento. Si no existe, lo crear√°. </li>
<li><code>db.collection.updateOne({criterio}, {$set: {campo:valor} });</code></li>
<li><code>$unset</code> ‚Üí Elimina un campo de uno o varios documentos. Como necesitamos introducir un par clave-valor, a√±adiremos un booleano como valor. </li>
<li><code>db.collection.updateMany({criterio}, {$unset: {campo:true} });</code></li>
<li><code>$inc</code> ‚Üí Incrementa o decrementa el valor num√©rico de una clave (no se refiere al identificador), creando una nueva si no existe. </li>
<li><code>db.collection.updateOne({criterio}, {$inc: {campo:incremento} });</code></li>
<li><code>$push</code> ‚Üí A√±ade elementos a un array. Si el array no existe, lo crea con los elementos que indicamos en el push, mientras que si ya existe, los a√±ade al final del mismo. </li>
<li><code>db.collection.update({criterio}, {$push: {nombre_array:{lista_de_valores} } });</code></li>
<li><code>$pull</code> ‚Üí Elimina elementos de un array bas√°ndose en alg√∫n criterio. </li>
<li><code>db.collection.update({criterio},{$pull:{vector:elemento}})</code>.</li>
<li><code>$pop</code> ‚Üí Elimina elementos de un array tratado como una pila o cola, es decir, eliminando el primer (-1) o √∫ltimo (1) elemento. </li>
<li><code>db.collection.update({criterio},{$pop:{vector: [ -1 | 1 ] }})</code></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Information</p>
</div>
<p>Estos modificadores funcionan tanto con <code>updateOne</code> como con <code>updateMany</code>.</p>
<h4 id="3612-upserts">3.6.1.2. Upserts</h4>
<p>Cuando no se encuentra ning√∫n documento que coincida con los criterios para una actualizaci√≥n, como es de esperar, no se produce ning√∫n cambio en la colecci√≥n.
Por otra parte, en ocasiones, podemos desear que si un documento con ciertos criterios no existe cuando queremos modificarlo, se cree. Esto se logra a trav√©s de actualizaciones especiales, llamadas <code>upserts</code>. Con esta operaci√≥n, nos ahorramos buscar primero en la colecci√≥n para saber si debemos realizar una operaci√≥n de inserci√≥n (si no existe) o de modificaci√≥n (si existe).</p>
<p>Para realizar un upsert, utilizaremos el tercer argumento de las actualizaciones, que consiste en un documento con diferentes opciones en formato clave-valor, a√±adiendo la clave upsert a true.</p>
<div class="language-js highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">updateOne</span><span class="p">({</span><span class="nx">criter√≠a</span><span class="p">},{</span><span class="nx">modification</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="nx">upsert</span><span class="o">:</span><span class="kc">true</span><span class="p">});</span>
</span></code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../2_MongoDB.es/" class="md-footer__link md-footer__link--prev" aria-label="Previous: 2. MongoDB">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                2. MongoDB
              </div>
            </div>
          </a>
        
        
          
          <a href="../4_Queries.es/" class="md-footer__link md-footer__link--next" aria-label="Next: 4. Consultas en Mongo">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                4. Consultas en Mongo
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025 Manu Romero
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://youtube.com/@ciclosformativosinfo" target="_blank" rel="noopener" title="youtube.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M23.498 6.186a3.02 3.02 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.02 3.02 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.02 3.02 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.02 3.02 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814M9.545 15.568V8.432L15.818 12z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://bsky.app/profile/malsonvalencia.bsky.social" target="_blank" rel="noopener" title="bsky.app" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5.202 2.857C7.954 4.922 10.913 9.11 12 11.358c1.087-2.247 4.046-6.436 6.798-8.501C20.783 1.366 24 .213 24 3.883c0 .732-.42 6.156-.667 7.037-.856 3.061-3.978 3.842-6.755 3.37 4.854.826 6.089 3.562 3.422 6.299-5.065 5.196-7.28-1.304-7.847-2.97-.104-.305-.152-.448-.153-.327 0-.121-.05.022-.153.327-.568 1.666-2.782 8.166-7.847 2.97-2.667-2.737-1.432-5.473 3.422-6.3-2.777.473-5.899-.308-6.755-3.369C.42 10.04 0 4.615 0 3.883c0-3.67 3.217-2.517 5.202-1.026"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.footer", "content.code.copy"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>